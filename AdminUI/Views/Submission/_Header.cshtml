@model Common.Models.Submission
@{
    Layout = null;
}

@if (!Model.LockInfo.User.Equals(User.Identity.Name, StringComparison.CurrentCultureIgnoreCase))
{
    <div class="alert alert-danger"><h1>Sheet is being reviewed by @Model.LockInfo.User</h1></div>
}

<h1>eXPRS Plan of Care - Services Delivered Report Form</h1>
<div class="row">
    <div class="column">
        <label>Submission ID:</label> @Model.Id
    </div>
    <div class="column">
        <label>Submission Status:</label> @(string.IsNullOrEmpty(Model.UserActivity) ? "Pending" : Model.UserActivity)
    </div>
</div>
<div class="row">
    <div class="column">
        <label>Client Name:</label> @Model.ClientName
    </div>
    <div class="column">
        <label>Client Prime:</label> @Model.ClientPrime
    </div>
</div>
<div class="row">
    <div class="column">
        <label>Provider Name:</label> @Model.ProviderName
    </div>
    <div class="column">
        <label>Provider ID:</label> <span class="providerId" title="Provider Id">@Model.ProviderId</span><button class="btn btn-default leftMargin4px" onclick="copyProviderId(this)" title="Copies the Provider's Id">Copy</button>
    </div>
</div>
<div class="row">
    <div class="column">
        <label>Service Authorized:</label>  @Model.FormType
    </div>
    <div class="column">
        <label>Submitted on:</label> @Model.Submitted.ToString("MM-dd-yyyy")
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function copyProviderId(element) {
        var msg = $(element).closest(".column").find("span.providerId").text();
        try {
            navigator.clipboard.writeText(msg);
            console.log('Page URL copied to clipboard');
        } catch (err) {
            console.error('Failed to copy: ', err);
        }
    }
</script>

